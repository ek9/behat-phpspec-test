# behat.yml
default:
  autoload:
    '': %paths.base%/features/bootstrap
  # configure formatters
  formatters:
    pretty: true
  extensions:
    # rmiller/behat-spec extension
    #RMiller\BehatSpec\Extension\BehatSpecExtension\BehatExtension:
    #path: 'bin/phpspec'
    LeanPHP\Behat\CodeCoverage\Extension:
      # http auth (optional)
      auth:        ~
      # select which driver to use when gatherig coverage data
      drivers:
        - local     # local Xdebug driver
      # filter options
      filter:
        forceCoversAnnotation:                false
        mapTestClassNameToCoveredClassName:   false
        whitelist:
          addUncoveredFilesFromWhitelist:     true
          processUncoveredFilesFromWhitelist: false
          include:
            directories:
              'src':
                prefix: 'src'
                suffix: '*.php'
              'tests':
                prefix: 'src'
                suffix: '*.php'
        blacklist:
          include:
            directories:
              'vendor':
                prefix: 'vendor'
                suffix: '*'
      # report configuration
      report:
        # report format (html, clover, php, text)
        format:    html
        # report options
        options:
          target: build/behat-coverage/html
  # suites
  suites:
    # default suite
    default:
      contexts: [DefaultContext]

